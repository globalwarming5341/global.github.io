<!--
 * @Description: 
 * @Author: Zhuang
 * @Date: 2019-10-31 10:38:42
 * @LastEditors: Zhuang
 * @LastEditTime: 2019-11-01 21:59:43
 -->
## Weekly Report for Zhuang

$\color{#006400}{√}$ 目标完成

$\color{#00008B}{-}$ 目标进行中

$\color{#FF0000}{×}$ 目标未完成

###整体目标
一、完成与何建伟、张超、谢晓涵、杨泽仪和李昱宇的交接工作 。($\color{#006400}{√}$)
二、将推荐系统完成从云服务器到港大服务器的转移。($\color{#006400}{√}$)
三、完成中医食疗的小程序设计（先针对局部做，如上火、湿热的诊断）。($\color{#00008B}{-}$)
四、完成中医食疗的数据规范化，参照自己以往做的数据。($\color{#00008B}{-}$)
五、深度学习技术在中医食疗上的探索和应用。($\color{#00008B}{-}$)


### | 2019.09.17 - 2019.09.22 |
* 接手张超所管理的两个服务器(P100 & M40)，对整个服务器的目录及数据进行全面了解。($\color{#006400}{√}$)
* 获取姜京赤博士的NLP平台的source code (代码内容涉及JAVA三大框架)。($\color{#006400}{√}$)
* 熟悉中医食疗和推荐系统的source code及gogs的使用。($\color{#006400}{√}$)
* 得到超导论文数据，与冯帆有关的数据库及工作目录未能找到，不是在服务器上就是在DropBox上。($\color{#006400}{√}$)

### | 2019.09.23 - 2019.09.29 |
* 由于论文推荐系统的后端服务代码运行在谢筱涵的云服务器上，有必要将其转移至港大服务器上以便于后续开发和维护。($\color{#006400}{√}$)
    * 难点：数据转移 + 环境配置
    * 问题：代码需要用到两个网络端口，另外港大服务器对端口有限制。
    * 解决：借用张超的云服务器开放两个端口进行端口映射
* 熟知推荐系统背后的推荐算法。($\color{#006400}{√}$)
    * 公式：
$$similarity \quad matrix =
\left[ \begin{matrix} 
\frac 1m\sum_{i=1}^m\sum_{j=1}^n\mathbf{(X_{1j}Y^T_{ij})^{0.8}} \\
\frac 1m\sum_{i=1}^m\sum_{j=1}^n\mathbf{(X_{2j}Y^T_{ij})^{0.8}} \\
\frac 1m\sum_{i=1}^m\sum_{j=1}^n\mathbf{(X_{3j}Y^T_{ij})^{0.8}} \\
. \\
. \\
.
\frac 1m\sum_{i=1}^m\sum_{j=1}^n\mathbf{(X_{kj}Y^T_{ij})^{0.8}}
\end{matrix}\right]
$$
其中，n代表语料库大小，m为用户感兴趣的文章的数量，$\mathbf{X_{kj}}$代表第k篇待推荐论文中第j个词语的TF-IDF数值，$\mathbf{Y_{ij}}$代表第i篇用户感兴趣论文中第j个词语的TF-IDF数值。

* 回顾MongoDB数据库的用法，以及微信小程序开发的相关知识。($\color{#006400}{√}$)

* 从王斌老师那里获得Web of Science论文数据，并添加到数据库当中。($\color{#006400}{√}$)

### | 2019.9.30 - 2019.10.6 |

* 针对王老师的对推荐系统的要求，重新设计并实现推荐系统。($\color{#006400}{√}$)
    * 需求：
        1. 用户通过上传论文的pdf或者输入论文的doi号来告知推荐系统用户对此文章感兴趣，并且文章都有归类，如用户可以向系统上传2D material领域（可以视为一个vector）下的n篇文章和magnon领域下的m篇文章来表明自己两个的感兴趣的研究领域。
        2. 用户订阅了arxiv.rog的论文推送服务后，arxiv.org每天会有大量arxiv文章自动发至用户的邮箱当中，用户可以通过把邮件发至推荐系统中，运用相似度算法从中提取此用户感兴趣的论文，作为推荐结果。
        3. 推荐结果不需呈现在网页上，直接通过邮件自动发到用户的邮箱当中，用户通过邮件反馈结果。
    * 解决方案：
        1. 设计一个网页界面专门接受用户的输入，由于用户上传pdf后，解析pdf文件容易出现各种问题，不使用此种方案，改为让用户手动输入论文的Title和Abstract的方式。另外，张磊老师之前搜集过大量含有doi号的论文数据，从张磊老师那里获取该数据并导入后台数据库，以实现用户通过输入doi号来上传文章。
        2. arxiv.org发送的邮件内容结构较为规整，容易使用regex来提取，将提取的文章和用户感兴趣的文章做成matrix并使用之前的算法即可，使用算法生成的结果按数值由大到小做成推荐列表，需注意用户的文章是有分类的，每一个分类对应一个推荐列表。
        3. 使用一个163账号来实现论文的自动发送与接收。

* 从王斌老师和张磊老师那里获得以前做过的推荐系统代码所有相关的论文数据并全部导入至数据库中。($\color{#006400}{√}$)

* 了解上述推荐系统代码，把有用的代码片段截取出来用于今后的新推荐系统的设计中。($\color{#006400}{√}$)

### | 2019.10.7 - 2019.10.13 |

* 针对上周实现的推荐系统进行优化，修复一些Bug，调整了系统当中的【邮件接收模块】中接收邮件的频率，频率过高容易被163服务器拒绝登陆。($\color{#006400}{√}$)
* 将中医食疗导出，以用于今后导入到微信小程序的云服务器上。($\color{#006400}{√}$)

* 与王老师讨论后，按照要求重新对推荐系统的部分功能设计。($\color{#006400}{√}$)
    * 需求：
        1. 用户无需手动把arxiv.org上的推送邮件发给推荐系统，只需要告诉推荐系统一次自己所感兴趣的论文即可，即把相关pdf或doi号给到系统后，系统以这些数据作为种子生成推荐结果，然后发送给用户。
        2. 用户向系统上传一次论文之后，接下来要做的事情只需对推荐结果进行反馈即可，系统将自动接受用户反馈结果，在下次生成推荐结果时将其考虑其中，不断地进行迭代。
        3. 系统需要自动地在arxiv.org上爬取论文，不需用户来发送论文，并且每三天向用户产生一次推荐结果。
    * 解决方案：
        1. 写一个爬虫程序自动从arxiv.org上获取论文并存入数据库即可，同时适当控制频率。
        2. 将用户反馈结果中感兴趣的论文和不感兴趣的论文均均存入数据库，在下一次产生推荐时把用户感兴趣的论文也加到算法里。
        3. 爬虫程序和推荐程序则通过Linux下的计划任务命令crontab实现自动化运行即可。

* 对MySQL的部分表结构重新进行设计。($\color{#006400}{√}$)

* 对爬取的arxiv论文数据进行清理。($\color{#006400}{√}$)


### | 2019.10.14 - 2019.10.20 |

* 对推荐系统发送出去的邮件内容进行完善。($\color{#006400}{√}$)
    * 之前产生的推荐结果中，不同类别领域的推荐列表有交叉重复的文章，将重复的文章去除。
    * 在邮件最后附上一个Feedback list，以便于用户反馈结果。

* 修复【邮件自动发送模块】有时无法正常接收邮件的漏洞。($\color{#006400}{√}$)


* 分析杨泽仪设计的MockPlus小程序模板文件，了解整体的应用框架，准备设计之后的中医食疗的小程序。($\color{#006400}{√}$)

### | 2019.10.21 - 2019.10.27|

* 对前端网页进行优化与修复($\color{#006400}{√}$)
    * 布局的更改和页面的添加。
    * 修复用doi号来查询论文的部分bug。

* 与王老师讨论之后，对推荐系统再进行一次改动($\color{#006400}{√}$)
    * 需求：
        1. 用户在上传自己的论文时，会给定几个关键词，结合这些关键词来推荐论文以提高命中率。

        2. 用户上传的文章无需分类，所有上传的文章表示的是用户感兴趣的研究方向。

    * 解决方案：
        1. 通过关键词匹配，把待推荐的论文分成两类，一类是含有关键词信息的，另一类不含有，然后分别运用推荐算法产生推荐列表，以7:3的比例从这两个推荐列表中选出前n篇文章作为最终的推荐结果。假设推荐20篇论文给用户，含有关键词信息的推荐列表选取前(20 * 0.7 = 14)篇，不含有关键词信息的推荐列表选取前(20 * 0.3 = 6)篇，将这20篇文章推荐给用户。

        2. 不需要分门别类地对用户所感兴趣的不同领域分别计算矢量，一个用户视为一个矢量。


* 修改MySQL部分表结构。($\color{#006400}{√}$)

* 将部分数据删除和导入以适应更改后的推荐系统。($\color{#006400}{√}$)

* 对推荐系统发送出去的邮件内容再进行完善。($\color{#006400}{√}$)



### | 2019.10.28 - 至今|



* 针对上一次王老师的反馈结果，尝试对算法进行优化。


